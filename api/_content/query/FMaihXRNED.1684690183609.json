{"_path":"/os/optimise/exclusions/bootcmd","_dir":"exclusions","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Boot Options","description":"Below are kernel boot settings I've tried but didn't seem to have much affect.\nI suspect some of them may be geared more towards different platforms such as intel.","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"boot-options"},"children":[{"type":"text","value":"Boot Options"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Below are kernel boot settings I've tried but didn't seem to have much affect."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nI suspect some of them may be geared more towards different platforms such as intel."}]},{"type":"element","tag":"h2","props":{"id":"no-difference-makes-things-worse"},"children":[{"type":"text","value":"No Difference / Makes things Worse"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"These are some of the settings that seem to be suggested but didn't seem to make any observable difference."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nAt least for a RPI4."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"idle=poll"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"audit=0"}]},{"type":"text","value":" Disable audit messages in dmesg"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"mitigations=off"}]},{"type":"text","value":" This disables certain security mitigations added to the kernel"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"plymouth.ignore-serial-consoles"}]},{"type":"text","value":" Don't issue a bootsplash on any serial console"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"rcu_nocbs=2,3"}]},{"type":"text","value":" no difference"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nohz_full=2,3"}]},{"type":"text","value":" makes things worse I think"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This option was used on the original linuxcnc image\nBut it's not related to latency, instead it was to fix a USB issue with the older 5.4 kernels at the time"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"total_mem=3072"}]}]}]},{"type":"element","tag":"h2","props":{"id":"scheduler"},"children":[{"type":"text","value":"Scheduler"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Historically one option to set would have been "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"elevator=deadline"}]},{"type":"text","value":"."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nHowever, this is now depreciated in more recent kernels."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nThe kernel will now automatically set a scheduler based on each device."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nI suspect this is a setting we can leave alone for the newer kernels."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To see which ones are available for the sda device for example"}]},{"type":"element","tag":"code","props":{"code":"cat /sys/block/sda/queue/scheduler\n# Typically reports back\n# none [mq-deadline] kyber bfq\n","language":"sh","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-7669a8"},"children":[{"type":"text","value":"cat"}]},{"type":"element","tag":"span","props":{"class":"ct-6d197f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b899a3"},"children":[{"type":"text","value":"/sys/block/sda/queue/scheduler\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-1990c5"},"children":[{"type":"text","value":"# Typically reports back\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-1990c5"},"children":[{"type":"text","value":"# none [mq-deadline] kyber bfq"}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-1990c5{color:#6E7781}\n.ct-b899a3{color:#0A3069}\n.ct-6d197f{color:#24292F}\n.ct-7669a8{color:#953800}\n.dark .ct-7669a8{color:#FFA657}\n.dark .ct-6d197f{color:#C9D1D9}\n.dark .ct-b899a3{color:#A5D6FF}\n.dark .ct-1990c5{color:#8B949E}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"no-difference-makes-things-worse","depth":2,"text":"No Difference / Makes things Worse"},{"id":"scheduler","depth":2,"text":"Scheduler"}]}},"_type":"markdown","_id":"content:1.os:4.optimise:5.exclusions:2.bootcmd.md","_source":"content","_file":"1.os/4.optimise/5.exclusions/2.bootcmd.md","_extension":"md"}