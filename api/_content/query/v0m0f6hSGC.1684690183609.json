{"_path":"/os/dietpi/hard-disk","_dir":"dietpi","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Hard Disk Setup","description":"Below are the details on moving the root volume for an RPI from the SD card to a USB hard disk.\nThis can be useful when doing development work or something that requires a lot of writes to the disk.\nOne example would be compiling a new Linux kernel.","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"hard-disk-setup"},"children":[{"type":"text","value":"Hard Disk Setup"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Below are the details on moving the root volume for an RPI from the SD card to a USB hard disk."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nThis can be useful when doing development work or something that requires a lot of writes to the disk."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nOne example would be compiling a new Linux kernel."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Note I've setup a partition for swap in case I want to use it later"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nbut I'm avoiding using it to get better latency performance"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The first step is to partition the disk using fdisk, I'm assuming a partition layout of the following:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"/dev/sda1 - boot (vfat not used)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"/dev/sda2 - swap (swap partition) - not used"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"/dev/sda3 - root (ext4)"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"It's possible to set the EEPROM to boot directly from a USB disk."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nBut for now I'm avoiding that so that I have the option to just boot from an SD card."}]},{"type":"element","tag":"h2","props":{"id":"format-partitions"},"children":[{"type":"text","value":"Format Partitions"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Note this will destroy data on the drive."}]},{"type":"element","tag":"code","props":{"code":"# Format the swap parition\n/sbin/mkswap /dev/sda2\n# Format the HD Root partition\n/sbin/mke2fs -t ext4 -L rootfs /dev/sda3\n","language":"sh","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-e5ed4f"},"children":[{"type":"text","value":"# Format the swap parition\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-edca3d"},"children":[{"type":"text","value":"/sbin/mkswap"}]},{"type":"element","tag":"span","props":{"class":"ct-3b99a4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f6b1ba"},"children":[{"type":"text","value":"/dev/sda2\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-e5ed4f"},"children":[{"type":"text","value":"# Format the HD Root partition\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-edca3d"},"children":[{"type":"text","value":"/sbin/mke2fs"}]},{"type":"element","tag":"span","props":{"class":"ct-3b99a4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9cccf6"},"children":[{"type":"text","value":"-t"}]},{"type":"element","tag":"span","props":{"class":"ct-3b99a4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f6b1ba"},"children":[{"type":"text","value":"ext4"}]},{"type":"element","tag":"span","props":{"class":"ct-3b99a4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9cccf6"},"children":[{"type":"text","value":"-L"}]},{"type":"element","tag":"span","props":{"class":"ct-3b99a4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f6b1ba"},"children":[{"type":"text","value":"rootfs"}]},{"type":"element","tag":"span","props":{"class":"ct-3b99a4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f6b1ba"},"children":[{"type":"text","value":"/dev/sda3"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"copy-root-volume-across"},"children":[{"type":"text","value":"Copy root volume across"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We can use rsync to copy across the root volume data."}]},{"type":"element","tag":"code","props":{"code":"# mount the new root volume\nmkdir -p /mnt/hdroot\nmount -t auto /dev/sda3 /mnt/hdroot\n\n# Copy the root volume across\napt install rsync\nrsync -axv / /mnt/hdroot\n","language":"sh","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-e5ed4f"},"children":[{"type":"text","value":"# mount the new root volume\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-edca3d"},"children":[{"type":"text","value":"mkdir"}]},{"type":"element","tag":"span","props":{"class":"ct-3b99a4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9cccf6"},"children":[{"type":"text","value":"-p"}]},{"type":"element","tag":"span","props":{"class":"ct-3b99a4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f6b1ba"},"children":[{"type":"text","value":"/mnt/hdroot\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-edca3d"},"children":[{"type":"text","value":"mount"}]},{"type":"element","tag":"span","props":{"class":"ct-3b99a4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9cccf6"},"children":[{"type":"text","value":"-t"}]},{"type":"element","tag":"span","props":{"class":"ct-3b99a4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f6b1ba"},"children":[{"type":"text","value":"auto"}]},{"type":"element","tag":"span","props":{"class":"ct-3b99a4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f6b1ba"},"children":[{"type":"text","value":"/dev/sda3"}]},{"type":"element","tag":"span","props":{"class":"ct-3b99a4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f6b1ba"},"children":[{"type":"text","value":"/mnt/hdroot\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-e5ed4f"},"children":[{"type":"text","value":"# Copy the root volume across\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-edca3d"},"children":[{"type":"text","value":"apt"}]},{"type":"element","tag":"span","props":{"class":"ct-3b99a4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f6b1ba"},"children":[{"type":"text","value":"install"}]},{"type":"element","tag":"span","props":{"class":"ct-3b99a4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f6b1ba"},"children":[{"type":"text","value":"rsync\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-edca3d"},"children":[{"type":"text","value":"rsync"}]},{"type":"element","tag":"span","props":{"class":"ct-3b99a4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9cccf6"},"children":[{"type":"text","value":"-axv"}]},{"type":"element","tag":"span","props":{"class":"ct-3b99a4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f6b1ba"},"children":[{"type":"text","value":"/"}]},{"type":"element","tag":"span","props":{"class":"ct-3b99a4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f6b1ba"},"children":[{"type":"text","value":"/mnt/hdroot"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"edit-fstab"},"children":[{"type":"text","value":"Edit fstab"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Next we need to edit the fstab file for the root volume on the USB disk."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nRun "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/sbin/blkid /dev/sda3"}]},{"type":"text","value":" to get the partition UUID then substitute it within the config"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nNote we've commented out the swap partition here"}]},{"type":"element","tag":"code","props":{"code":"# Get the partition unique id\n# this will report a unique number, something like 939aac7c-03, 939aac7c-02\n# /dev/sda3: LABEL=\"rootfs\" UUID=\"3eac140f-5f87-402a-b5bf-9ff1fb881bc4\" BLOCK_SIZE=\"4096\" TYPE=\"ext4\" PARTUUID=\"939aac7c-03\"\n/sbin/blkid /dev/sda2\n/sbin/blkid /dev/sda3\n\n# Open up the fstabl file on the usb disk\nvim /mnt/hdroot/etc/fstab\n\n# Original Example\nPARTUUID=a0998a78-02  / ext4 noatime,lazytime,rw 0 1\n/var/swap none swap sw\n\n# New Example\nPARTUUID=939aac7c-03  /  ext4  noatime,lazytime,rw 0 1\n# We avoid enabling swap to get better latency\n#PARTUUID=939aac7c-02  sw swap  none                0 0\n","language":"sh","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-e5ed4f"},"children":[{"type":"text","value":"# Get the partition unique id\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-e5ed4f"},"children":[{"type":"text","value":"# this will report a unique number, something like 939aac7c-03, 939aac7c-02\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-e5ed4f"},"children":[{"type":"text","value":"# /dev/sda3: LABEL=\"rootfs\" UUID=\"3eac140f-5f87-402a-b5bf-9ff1fb881bc4\" BLOCK_SIZE=\"4096\" TYPE=\"ext4\" PARTUUID=\"939aac7c-03\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-edca3d"},"children":[{"type":"text","value":"/sbin/blkid"}]},{"type":"element","tag":"span","props":{"class":"ct-3b99a4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f6b1ba"},"children":[{"type":"text","value":"/dev/sda2\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-edca3d"},"children":[{"type":"text","value":"/sbin/blkid"}]},{"type":"element","tag":"span","props":{"class":"ct-3b99a4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f6b1ba"},"children":[{"type":"text","value":"/dev/sda3\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-e5ed4f"},"children":[{"type":"text","value":"# Open up the fstabl file on the usb disk\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-edca3d"},"children":[{"type":"text","value":"vim"}]},{"type":"element","tag":"span","props":{"class":"ct-3b99a4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f6b1ba"},"children":[{"type":"text","value":"/mnt/hdroot/etc/fstab\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"class":"ct-e5ed4f"},"children":[{"type":"text","value":"# Original Example\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"class":"ct-3b99a4"},"children":[{"type":"text","value":"PARTUUID"}]},{"type":"element","tag":"span","props":{"class":"ct-8b941f"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-f6b1ba"},"children":[{"type":"text","value":"a0998a78-"}]},{"type":"element","tag":"span","props":{"class":"ct-8b941f"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-9cccf6"},"children":[{"type":"text","value":"2"}]},{"type":"element","tag":"span","props":{"class":"ct-3b99a4"},"children":[{"type":"text","value":"  / ext4 noatime,lazytime,rw "}]},{"type":"element","tag":"span","props":{"class":"ct-9cccf6"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-3b99a4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9cccf6"},"children":[{"type":"text","value":"1\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"class":"ct-edca3d"},"children":[{"type":"text","value":"/var/swap"}]},{"type":"element","tag":"span","props":{"class":"ct-3b99a4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f6b1ba"},"children":[{"type":"text","value":"none"}]},{"type":"element","tag":"span","props":{"class":"ct-3b99a4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f6b1ba"},"children":[{"type":"text","value":"swap"}]},{"type":"element","tag":"span","props":{"class":"ct-3b99a4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f6b1ba"},"children":[{"type":"text","value":"sw\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"class":"ct-e5ed4f"},"children":[{"type":"text","value":"# New Example\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"class":"ct-3b99a4"},"children":[{"type":"text","value":"PARTUUID"}]},{"type":"element","tag":"span","props":{"class":"ct-8b941f"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-f6b1ba"},"children":[{"type":"text","value":"939aac7c-"}]},{"type":"element","tag":"span","props":{"class":"ct-8b941f"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-9cccf6"},"children":[{"type":"text","value":"3"}]},{"type":"element","tag":"span","props":{"class":"ct-3b99a4"},"children":[{"type":"text","value":"  /  ext4  noatime,lazytime,rw "}]},{"type":"element","tag":"span","props":{"class":"ct-9cccf6"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-3b99a4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9cccf6"},"children":[{"type":"text","value":"1\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"class":"ct-e5ed4f"},"children":[{"type":"text","value":"# We avoid enabling swap to get better latency\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"class":"ct-e5ed4f"},"children":[{"type":"text","value":"#PARTUUID=939aac7c-02  sw swap  none                0 0"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Finally, we can unmount the root partition with "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"unmount /mnt/hdroot"}]}]},{"type":"element","tag":"h2","props":{"id":"alter-the-boot-configuration"},"children":[{"type":"text","value":"Alter the Boot Configuration"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Next we need to set the configuration on the SD card to boot to the USB disk."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nInstead of the root volume on the SD card."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nWe can do this by editing the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/boot/cmdline.txt"}]},{"type":"text","value":" file to point to the new partition"}]},{"type":"element","tag":"code","props":{"code":"# Make a backup of the file in case we want to switch back to the SD card\ncp /boot/cmdline.txt /boot/cmdline.txt.sdcard\n\n# Edit the file\nvim /boot/cmdline.txt\n\n# Original Example\nroot=PARTUUID=a0998a78-02 rootfstype=ext4 rootwait net.ifnames=0 logo.nologo console=tty1\n\n# New Example\nroot=PARTUUID=939aac7c-03 rootfstype=ext4 rootwait net.ifnames=0 logo.nologo console=tty1\n\n# Make a backup of the file\ncp /boot/cmdline.txt /boot/cmdline.txt.hd\n","language":"sh","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-e5ed4f"},"children":[{"type":"text","value":"# Make a backup of the file in case we want to switch back to the SD card\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-edca3d"},"children":[{"type":"text","value":"cp"}]},{"type":"element","tag":"span","props":{"class":"ct-3b99a4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f6b1ba"},"children":[{"type":"text","value":"/boot/cmdline.txt"}]},{"type":"element","tag":"span","props":{"class":"ct-3b99a4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f6b1ba"},"children":[{"type":"text","value":"/boot/cmdline.txt.sdcard\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-e5ed4f"},"children":[{"type":"text","value":"# Edit the file\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-edca3d"},"children":[{"type":"text","value":"vim"}]},{"type":"element","tag":"span","props":{"class":"ct-3b99a4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f6b1ba"},"children":[{"type":"text","value":"/boot/cmdline.txt\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-e5ed4f"},"children":[{"type":"text","value":"# Original Example\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-3b99a4"},"children":[{"type":"text","value":"root"}]},{"type":"element","tag":"span","props":{"class":"ct-8b941f"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-f6b1ba"},"children":[{"type":"text","value":"PARTUUID=a0998a78-"}]},{"type":"element","tag":"span","props":{"class":"ct-8b941f"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-9cccf6"},"children":[{"type":"text","value":"2"}]},{"type":"element","tag":"span","props":{"class":"ct-3b99a4"},"children":[{"type":"text","value":" rootfstype"}]},{"type":"element","tag":"span","props":{"class":"ct-8b941f"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-f6b1ba"},"children":[{"type":"text","value":"ext4"}]},{"type":"element","tag":"span","props":{"class":"ct-3b99a4"},"children":[{"type":"text","value":" rootwait net.ifnames"}]},{"type":"element","tag":"span","props":{"class":"ct-8b941f"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-9cccf6"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-3b99a4"},"children":[{"type":"text","value":" logo.nologo console"}]},{"type":"element","tag":"span","props":{"class":"ct-8b941f"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-f6b1ba"},"children":[{"type":"text","value":"tty1\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"class":"ct-e5ed4f"},"children":[{"type":"text","value":"# New Example\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"class":"ct-3b99a4"},"children":[{"type":"text","value":"root"}]},{"type":"element","tag":"span","props":{"class":"ct-8b941f"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-f6b1ba"},"children":[{"type":"text","value":"PARTUUID=939aac7c-"}]},{"type":"element","tag":"span","props":{"class":"ct-8b941f"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-9cccf6"},"children":[{"type":"text","value":"3"}]},{"type":"element","tag":"span","props":{"class":"ct-3b99a4"},"children":[{"type":"text","value":" rootfstype"}]},{"type":"element","tag":"span","props":{"class":"ct-8b941f"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-f6b1ba"},"children":[{"type":"text","value":"ext4"}]},{"type":"element","tag":"span","props":{"class":"ct-3b99a4"},"children":[{"type":"text","value":" rootwait net.ifnames"}]},{"type":"element","tag":"span","props":{"class":"ct-8b941f"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-9cccf6"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-3b99a4"},"children":[{"type":"text","value":" logo.nologo console"}]},{"type":"element","tag":"span","props":{"class":"ct-8b941f"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-f6b1ba"},"children":[{"type":"text","value":"tty1\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"class":"ct-e5ed4f"},"children":[{"type":"text","value":"# Make a backup of the file\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"class":"ct-edca3d"},"children":[{"type":"text","value":"cp"}]},{"type":"element","tag":"span","props":{"class":"ct-3b99a4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f6b1ba"},"children":[{"type":"text","value":"/boot/cmdline.txt"}]},{"type":"element","tag":"span","props":{"class":"ct-3b99a4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f6b1ba"},"children":[{"type":"text","value":"/boot/cmdline.txt.hd"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Then reboot to switch to the root volume on the hard disk."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nIf for any reason something goes wrong, you can just open up the SD Card boot partition"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n(since it's vfat) on another machine and copy the backed up file "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"cmdline.txt.sdcard"}]},{"type":"text","value":" to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"cmdline.txt"}]},{"type":"text","value":"."}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-8b941f{color:#CF222E}\n.ct-9cccf6{color:#0550AE}\n.ct-f6b1ba{color:#0A3069}\n.ct-3b99a4{color:#24292F}\n.ct-edca3d{color:#953800}\n.ct-e5ed4f{color:#6E7781}\n.dark .ct-e5ed4f{color:#8B949E}\n.dark .ct-edca3d{color:#FFA657}\n.dark .ct-3b99a4{color:#C9D1D9}\n.dark .ct-f6b1ba{color:#A5D6FF}\n.dark .ct-9cccf6{color:#79C0FF}\n.dark .ct-8b941f{color:#FF7B72}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"format-partitions","depth":2,"text":"Format Partitions"},{"id":"copy-root-volume-across","depth":2,"text":"Copy root volume across"},{"id":"edit-fstab","depth":2,"text":"Edit fstab"},{"id":"alter-the-boot-configuration","depth":2,"text":"Alter the Boot Configuration"}]}},"_type":"markdown","_id":"content:1.os:1.dietpi:2.hard-disk.md","_source":"content","_file":"1.os/1.dietpi/2.hard-disk.md","_extension":"md"}