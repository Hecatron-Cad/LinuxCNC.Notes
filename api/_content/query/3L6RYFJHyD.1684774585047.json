{"_path":"/os/kernel","_dir":{"title":"Linux Kernel"},"_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Kernel","description":"For LinuxCNC we need a realtime kernel using preempt-rt.\nThis is because LinuxCNC is doing the motion planning and movement commands in the operating system and not a microcontroller.\nIt is able to use a mesa or FPGA board to help generate the steps / do some workload, but the majority of the work is done at the operating system level,","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"kernel"},"children":[{"type":"text","value":"Kernel"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For LinuxCNC we need a realtime kernel using preempt-rt."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nThis is because LinuxCNC is doing the motion planning and movement commands in the operating system and not a microcontroller."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nIt is able to use a mesa or FPGA board to help generate the steps / do some workload, but the majority of the work is done at the operating system level,"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The way dietpi works is that it uses the version of kernel normally bundled with the distro it's using as a template."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nAt the time of writing this will likely be 6.1.x (aarch64) for a RPI3 / RPI4."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nThis won't be a real-time kernel, which means we have to build our own."}]},{"type":"element","tag":"h2","props":{"id":"realtime-kernel"},"children":[{"type":"text","value":"Realtime Kernel"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"There are two variants of realtime kernel for linux"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"RTAI for parallel port stepping machines."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Preempt_rt for Mesa/Pico based machines."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"RTAI I think is ether depreciated or a work in progress."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nPreempt_rt seems to be the one to aim for."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://forum.linuxcnc.org/9-installing-linuxcnc/36584-rtai-vs-preemt-rt","rel":["nofollow"]},"children":[{"type":"text","value":"https://forum.linuxcnc.org/9-installing-linuxcnc/36584-rtai-vs-preemt-rt"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Typically, the Preempt_rt patches can be located here"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://mirrors.edge.kernel.org/pub/linux/kernel/projects/rt/","rel":["nofollow"]},"children":[{"type":"text","value":"https://mirrors.edge.kernel.org/pub/linux/kernel/projects/rt/"}]}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"realtime-kernel","depth":2,"text":"Realtime Kernel"}]}},"_type":"markdown","_id":"content:1.os:3.kernel:0.index.md","_source":"content","_file":"1.os/3.kernel/0.index.md","_extension":"md"}