{"_path":"/os/optimise/bootcmd","_dir":"optimise","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Boot Options","description":"","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"boot-options"},"children":[{"type":"text","value":"Boot Options"}]},{"type":"element","tag":"h2","props":{"id":"standard-options"},"children":[{"type":"text","value":"Standard Options"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The following needs to be added to the end of /boot/cmdline.txt"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"processor.max_cstate=1"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nThis limits the CPU to a C1 state (prevents it from sleeping)"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"a","props":{"href":"https://gist.github.com/Brainiarc7/8dfd6bb189b8e6769bb5817421aec6d1","rel":["nofollow"]},"children":[{"type":"text","value":"https://gist.github.com/Brainiarc7/8dfd6bb189b8e6769bb5817421aec6d1"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"isolcpus=2,3"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nThis prevents the linux kernel from scheduling normal tasks to the last two processors."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The userspace part of linuxcnc uses a special realtime API that makes use of the processor cores that have been isolated."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nIn this case we have a 4 core system, we leave the first two for the operating system and then use the last two for linuxcnc"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"fsck.repair=yes"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nIf fsck prompts to repair something, provide yes as the answer"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nThis helps with making sure the operating system doesn't stall on bootup."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nIt just tries to fix the filesystem automatically if there's a problem without asking."}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"standard-options","depth":2,"text":"Standard Options"}]}},"_type":"markdown","_id":"content:1.os:4.optimise:2.bootcmd.md","_source":"content","_file":"1.os/4.optimise/2.bootcmd.md","_extension":"md"}